<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Revision analysis tool with JDemetra+ version 3.x algorithms • rjd3revisions</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Revision analysis tool with JDemetra+ version 3.x algorithms">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rjd3revisions</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/rjd3revisions.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rjdverse/rjd3revisions/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Revision analysis tool with JDemetra+ version 3.x algorithms</h1>
                        <h4 data-toc-skip class="author">Corentin
Lemasson</h4>
                                    <h4 data-toc-skip class="author">Tanguy
Barthelemy</h4>
                        
      
      <small class="dont-index">Source: <a href="https://github.com/rjdverse/rjd3revisions/blob/develop/vignettes/rjd3revisions.Rmd" class="external-link"><code>vignettes/rjd3revisions.Rmd</code></a></small>
      <div class="d-none name"><code>rjd3revisions.Rmd</code></div>
    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      Revision analyses provides important information on the efficiency
      of preliminary estimates, allowing to identify potential issues
      and/or improvements that could be made in the compilation process.
      This package provides a tool to automatically perform a battery of
      relevant tests on revisions and submit a visual report including
      both the main results and their interpretation. The tool can
      perform analysis on different types of revision intervals and on
      different vintage views.
    </div>
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This package performs revision analysis and offers both detailed and
summary output including the generation of a visual report. It is
composed on a selection of parametric tests which enable the users to
detect potential bias (both mean and regression bias) and other sources
of inefficiency in preliminary estimates. What we mean by inefficiency
in preliminary estimates is whether further revisions are predictable in
some way.</p>
<p>This package uses the efficient libraries of <a href="https://github.com/jdemetra/jdplus-main" class="external-link">JDemetra+ v3</a>. It was
built mostly based on Eurostat’s technical reports from D. Ares and L.
Pitton (2013).</p>
<p>The next section helps with the installation of the package. The
third section describes how to use the tool and give some important
details on the main functions. In particular, it is important to mention
beforehand that your input data must first be set in a specific format
described in the sub-section on the <a href="#input_format">input
data</a>. The fourth section is theoretical and describes each test
being performed by the main function <code><a href="../reference/revision_analysis.html">revision_analysis()</a></code>
(they could also be performed individually) and how to interpret them.
Finally, you will find out all the reference papers in the last
section.</p>
</div>
<div class="section level2">
<h2 id="installation-settings">Installation settings<a class="anchor" aria-label="anchor" href="#installation-settings"></a>
</h2>
<p>This package relies on the Java libraries of <a href="https://github.com/jdemetra/jdplus-main" class="external-link">JDemetra+ v3</a> and on
the package <a href="https://github.com/rjdverse/rjd3toolkit" class="external-link">rjd3toolkit</a> of <a href="https://github.com/rjdverse" class="external-link">rjdverse</a>. Prior the installation,
you must ensure to have a Java version &gt;= 17.0 on your computer. If
you need to use a portable version of Java to fill this request, you can
follow the instructions in the <a href="https://github.com/rjdverse/rjdemetra/wiki/Installation-manual" class="external-link">installation
manual</a> of RJDemetra.</p>
<p>In addition to a Java version &gt;= 17.0, you must have a recent
version of the R packages rJava (&gt;= 1.0.6) and RProtobuf
(&gt;=0.4.17) that you can download from CRAN. Depending on your current
version of R, you might also need to install another version of Rtools.
(&gt;= 3.6).</p>
<p>This package also depends on the package <a href="https://github.com/rjdverse/rjd3toolkit" class="external-link">rjd3toolkit</a> that you
must install from GitHub prior to <a href="https://github.com/rjdverse/rjd3revisions" class="external-link">rjd3revsions</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"rjdverse/rjd3toolkit@*release"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"rjdverse/rjd3revisions@*release"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Note that depending on the R packages that are already installed on
your computer, you might also be asked to install or re-install a few
other packages from CRAN.</p>
<p>Finally, this package also suggests the R packages
<code>formattable</code> and <code>kableExtra</code> (and
<code>readxl</code> if you import your input data from Excel)
downloadable from CRAN. You are invited to install them for an enhanced
formatting of the output (i.e., meaningful colors).</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="section level3">
<h3 id="input_format">Input data<a class="anchor" aria-label="anchor" href="#input_format"></a>
</h3>
<p>Your input data must be in a specific format: long, vertical or
diagonal as shown in one of the table below. Regarding the dates, the
format shown in the examples below is acceptable, as are the other
common date formats for both revision dates and time periods. Note that
missing values can either be mentioned as NA (as in the example below)
or not be included in the input at the best convenience of the user.</p>
<div class="section level4">
<h4 id="format-1-long-view">Format 1: long view<a class="anchor" aria-label="anchor" href="#format-1-long-view"></a>
</h4>
<table class="table">
<thead><tr class="header">
<th>rev_date</th>
<th>time_period</th>
<th>obs_values</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2022-07-31</td>
<td>2022Q1</td>
<td>0.8</td>
</tr>
<tr class="even">
<td>2022-07-31</td>
<td>2022Q2</td>
<td>0.2</td>
</tr>
<tr class="odd">
<td>2022-07-31</td>
<td>2022Q3</td>
<td>NA</td>
</tr>
<tr class="even">
<td>2022-07-31</td>
<td>2022Q4</td>
<td>NA</td>
</tr>
<tr class="odd">
<td>2022-08-31</td>
<td>2022Q1</td>
<td>0.8</td>
</tr>
<tr class="even">
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="format-2-vertical-view">Format 2: vertical view<a class="anchor" aria-label="anchor" href="#format-2-vertical-view"></a>
</h4>
<table class="table">
<thead><tr class="header">
<th>Period</th>
<th>2023/03/31</th>
<th>2023/04/30</th>
<th>2023/05/31</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2022M01</td>
<td>15.2</td>
<td>15.1</td>
<td>15.0</td>
</tr>
<tr class="even">
<td>2022M02</td>
<td>15.0</td>
<td>14.9</td>
<td>14.9</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="even">
<td>2023M01</td>
<td>13.0</td>
<td>13.1</td>
<td>13.2</td>
</tr>
<tr class="odd">
<td>2023M02</td>
<td></td>
<td>12.1</td>
<td>12.1</td>
</tr>
<tr class="even">
<td>2023M03</td>
<td></td>
<td></td>
<td>12.3</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="format-3-horizontal-view">Format 3: horizontal view<a class="anchor" aria-label="anchor" href="#format-3-horizontal-view"></a>
</h4>
<table style="width:100%;" class="table">
<colgroup>
<col width="19%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th>Period</th>
<th>2022M01</th>
<th>2022M02</th>
<th>…</th>
<th>2023M01</th>
<th>2023M02</th>
<th>2023M03</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2023/03/31</td>
<td>15.2</td>
<td>15.0</td>
<td>…</td>
<td>13.0</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2023/04/30</td>
<td>15.1</td>
<td>14.9</td>
<td>…</td>
<td>13.1</td>
<td>12.1</td>
<td></td>
</tr>
<tr class="odd">
<td>2023/05/31</td>
<td>15.0</td>
<td>14.9</td>
<td>…</td>
<td>13.2</td>
<td>12.1</td>
<td>12.3</td>
</tr>
</tbody>
</table>
<p>Depending on the location of your input data, you can use
<code><a href="../reference/create_vintages_from_xlsx.html">create_vintages_from_xlsx()</a></code> or
<code><a href="../reference/create_vintages_from_csv.html">create_vintages_from_csv()</a></code>, or the more generic function
<code><a href="../reference/create_vintages.html">create_vintages()</a></code> to create the vintages (see section <a href="#vintages">vintages &amp; revisions</a>) later on. If you plan to
use the generic function, you’ll first need to put your input data in a
data.frame in R as in the example below.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Long format</span></span>
<span><span class="va">long_view</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    rev_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022-07-31"</span>, <span class="st">"2022-08-31"</span>, <span class="st">"2022-09-30"</span>, <span class="st">"2022-10-31"</span>,</span>
<span>                         <span class="st">"2022-11-30"</span>, <span class="st">"2022-12-31"</span>, <span class="st">"2023-01-31"</span>, <span class="st">"2023-02-28"</span><span class="op">)</span>,</span>
<span>                   each <span class="op">=</span> <span class="fl">4L</span><span class="op">)</span>,</span>
<span>    time_period <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022Q1"</span>, <span class="st">"2022Q2"</span>, <span class="st">"2022Q3"</span>, <span class="st">"2022Q4"</span><span class="op">)</span>, times <span class="op">=</span> <span class="fl">8L</span><span class="op">)</span>,</span>
<span>    obs_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        <span class="fl">.8</span>, <span class="fl">.2</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">.8</span>, <span class="fl">.1</span>, <span class="cn">NA</span>, <span class="cn">NA</span>,</span>
<span>        <span class="fl">.7</span>, <span class="fl">.1</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">.7</span>, <span class="fl">.2</span>, <span class="fl">.5</span>, <span class="cn">NA</span>,</span>
<span>        <span class="fl">.7</span>, <span class="fl">.2</span>, <span class="fl">.5</span>, <span class="cn">NA</span>, <span class="fl">.7</span>, <span class="fl">.3</span>, <span class="fl">.7</span>, <span class="cn">NA</span>,</span>
<span>        <span class="fl">.7</span>, <span class="fl">.2</span>, <span class="fl">.7</span>, <span class="fl">.4</span>, <span class="fl">.7</span>, <span class="fl">.3</span>, <span class="fl">.7</span>, <span class="fl">.3</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">long_view</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Horizontal format</span></span>
<span><span class="va">horizontal_view</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.8</span>, <span class="fl">.8</span>, <span class="fl">.7</span>, <span class="fl">.7</span>, <span class="fl">.7</span>, <span class="fl">.7</span>, <span class="fl">.7</span>, <span class="fl">.7</span>, <span class="fl">.2</span>, <span class="fl">.1</span>,</span>
<span>                                   <span class="fl">.1</span>, <span class="fl">.2</span>, <span class="fl">.2</span>, <span class="fl">.3</span>, <span class="fl">.2</span>, <span class="fl">.3</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">.5</span>, <span class="fl">.5</span>, <span class="fl">.7</span>, <span class="fl">.7</span>,</span>
<span>                                   <span class="fl">.7</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">.4</span>, <span class="fl">.3</span><span class="op">)</span>,</span>
<span>                          ncol <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">horizontal_view</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022Q1"</span>, <span class="st">"2022Q2"</span>, <span class="st">"2022Q3"</span>, <span class="st">"2022Q4"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">horizontal_view</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022-07-31"</span>, <span class="st">"2022-08-31"</span>, <span class="st">"2022-09-30"</span>, <span class="st">"2022-10-31"</span>,</span>
<span>                               <span class="st">"2022-11-30"</span>, <span class="st">"2022-12-31"</span>, <span class="st">"2023-01-31"</span>, <span class="st">"2023-02-28"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">horizontal_view</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Vertical format</span></span>
<span><span class="va">vertical_view</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.8</span>, <span class="fl">.2</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">.8</span>, <span class="fl">.1</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">.7</span>, <span class="fl">.1</span>, <span class="cn">NA</span>,</span>
<span>                                 <span class="cn">NA</span>, <span class="fl">.7</span>, <span class="fl">.2</span>, <span class="fl">.5</span>, <span class="cn">NA</span>, <span class="fl">.7</span>, <span class="fl">.2</span>, <span class="fl">.5</span>, <span class="cn">NA</span>, <span class="fl">.7</span>, <span class="fl">.3</span>, <span class="fl">.7</span>, <span class="cn">NA</span>,</span>
<span>                                 <span class="fl">.7</span>, <span class="fl">.2</span>, <span class="fl">.7</span>, <span class="fl">.4</span>, <span class="fl">.7</span>, <span class="fl">.3</span>, <span class="fl">.7</span>, <span class="fl">.3</span><span class="op">)</span>,</span>
<span>                        nrow <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">vertical_view</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022Q1"</span>, <span class="st">"2022Q2"</span>, <span class="st">"2022Q3"</span>, <span class="st">"2022Q4"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">vertical_view</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022-07-31"</span>, <span class="st">"2022-08-31"</span>, <span class="st">"2022-09-30"</span>, <span class="st">"2022-10-31"</span>,</span>
<span>                             <span class="st">"2022-11-30"</span>, <span class="st">"2022-12-31"</span>, <span class="st">"2023-01-31"</span>, <span class="st">"2023-02-28"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">vertical_view</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="processing">Processing<a class="anchor" aria-label="anchor" href="#processing"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/rjdverse/rjd3revisions" class="external-link">"rjd3revisions"</a></span><span class="op">)</span></span></code></pre></div>
<p>Once your input data are in the right format, you create the
vintages:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vintages</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_vintages.html">create_vintages</a></span><span class="op">(</span><span class="va">long_view</span>, type <span class="op">=</span> <span class="st">"long"</span>, periodicity <span class="op">=</span> <span class="fl">4L</span><span class="op">)</span></span>
<span><span class="co"># vintages &lt;- create_vintages_from_xlsx(</span></span>
<span><span class="co">#     file = "myinput.xlsx",</span></span>
<span><span class="co">#     type = "long",</span></span>
<span><span class="co">#     periodicity = 4,</span></span>
<span><span class="co">#     "Sheet1"</span></span>
<span><span class="co"># )</span></span>
<span><span class="co"># vintages &lt;- create_vintages_from_csv(</span></span>
<span><span class="co">#     file = "myinput.csv",</span></span>
<span><span class="co">#     periodicity = 4,</span></span>
<span><span class="co">#     sep = "\t",</span></span>
<span><span class="co">#     date_format = "%Y-%m-%d"</span></span>
<span><span class="co"># )</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">vintages</span><span class="op">)</span> <span class="co"># extract of the vintages according to the different views</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">vintages</span><span class="op">)</span> <span class="co"># metadata about vintages</span></span></code></pre></div>
<p>possibly inspect the revisions and perform the revision analysis:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">revisions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_revisions.html">get_revisions</a></span><span class="op">(</span><span class="va">vintages</span>, gap <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">revisions</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">revisions</span><span class="op">)</span> <span class="co"># extract of the revisions according to the different views</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">revisions</span><span class="op">)</span> <span class="co"># metadata about revisions</span></span></code></pre></div>
<p>Finally to create the report and get a summary of the results, you
can use the function <code class="sourceCode r">revision_analysis</code></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rslt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/revision_analysis.html">revision_analysis</a></span><span class="op">(</span><span class="va">vintages</span>, gap <span class="op">=</span> <span class="fl">1</span>, view <span class="op">=</span> <span class="st">"diagonal"</span>, n.releases <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">rslt</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rslt</span><span class="op">)</span></span></code></pre></div>
<p>To export the report in pdf or html format, you can use the function
<code class="sourceCode r">render_report</code></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/render_report.html">render_report</a></span><span class="op">(</span></span>
<span>    <span class="va">rslt</span>,</span>
<span>    output_file <span class="op">=</span> <span class="st">"my_report"</span>,</span>
<span>    output_dir <span class="op">=</span> <span class="st">"C:/Users/xxx"</span>,</span>
<span>    output_format <span class="op">=</span> <span class="st">"pdf_document"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="details-on-the-main-functions">Details on the main functions<a class="anchor" aria-label="anchor" href="#details-on-the-main-functions"></a>
</h3>
<div class="section level4">
<h4 id="vintages">Vintages &amp; revisions<a class="anchor" aria-label="anchor" href="#vintages"></a>
</h4>
<p>Once your input data are in the right format, you must first create
an object of the class <code>rjd3rev_vintages</code> before you can run
your revision analysis. The function <code><a href="../reference/create_vintages.html">create_vintages()</a></code> (or,
alternatively, <code><a href="../reference/create_vintages_from_xlsx.html">create_vintages_from_xlsx()</a></code> or
<code><a href="../reference/create_vintages_from_csv.html">create_vintages_from_csv()</a></code>) will create this object from
the input data and display the vintages considering three different data
structures or views: vertical, horizontal and diagonal.</p>
<ol style="list-style-type: decimal">
<li>The <strong>vertical view</strong> shows the observed values at each
time period by the different vintages. This approach is robust to
changes of base year and data redefinition and could for example be used
to analyse revisions resulting from a benchmark revision. A drawback of
this approach is that for comparing the same historical series for
different vintages, we need to look at the smallest common number of
observations and consequently the number of observations is in some
circumstances very small. Moreover, it is often the case that most of
the revision is about the last few points of the series so that the
number of observations is too small to test anything.</li>
</ol>
<table class="table">
<caption>Example of vertical view</caption>
<thead><tr class="header">
<th>Period</th>
<th>2023/03/31</th>
<th>2023/04/30</th>
<th>2023/05/31</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2022M01</td>
<td>15.2</td>
<td>15.1</td>
<td>15.0</td>
</tr>
<tr class="even">
<td>2022M02</td>
<td>15.0</td>
<td>14.9</td>
<td>14.9</td>
</tr>
<tr class="odd">
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr class="even">
<td>2023M01</td>
<td>13.0</td>
<td>13.1</td>
<td>13.2</td>
</tr>
<tr class="odd">
<td>2023M02</td>
<td></td>
<td>12.1</td>
<td>12.1</td>
</tr>
<tr class="even">
<td>2023M03</td>
<td></td>
<td></td>
<td>12.3</td>
</tr>
</tbody>
</table>
<ol start="2" style="list-style-type: decimal">
<li>The <strong>horizontal view</strong> shows the observed values of
the different vintages by the period. A quick analysis can be performed
by rows in order to see how for the same data point (e.g. 2023Q1),
figures are first estimated, then forecasted and finally revised. The
main findings are usually obvious: in most cases the variance decreases,
namely data converge towards the ‘true value’. Horizontal tables are
just a transpose of vertical tables and are not used in the tests in
‘revision_analysis’.</li>
</ol>
<table style="width:100%;" class="table">
<caption>Example of horizontal view</caption>
<colgroup>
<col width="19%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="13%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th>Period</th>
<th>2022M01</th>
<th>2022M02</th>
<th>…</th>
<th>2023M01</th>
<th>2023M02</th>
<th>2023M03</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2023/03/31</td>
<td>15.2</td>
<td>15.0</td>
<td>…</td>
<td>13.0</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2023/04/30</td>
<td>15.1</td>
<td>14.9</td>
<td>…</td>
<td>13.1</td>
<td>12.1</td>
<td></td>
</tr>
<tr class="odd">
<td>2023/05/31</td>
<td>15.0</td>
<td>14.9</td>
<td>…</td>
<td>13.2</td>
<td>12.1</td>
<td>12.3</td>
</tr>
</tbody>
</table>
<ol start="3" style="list-style-type: decimal">
<li>The <strong>diagonal view</strong> shows subsequent releases of a
given time period, without regard for the date of publication. The
advantage of the diagonal approach is that it gives a way to analyse the
trade between the timing of the release and the accuracy of the
published figures. It is particularly informative when regular
estimation intervals exist for the data under study (as it is the case
for most of the official statistics). However, this approach requires to
be particularly vigilant in case there is a change in base year or data
redefinition.</li>
</ol>
<table class="table">
<caption>Example of diagonal view</caption>
<thead><tr class="header">
<th>Period</th>
<th>Release1</th>
<th>Release2</th>
<th>Release3</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>2023M01</td>
<td>13.0</td>
<td>13.1</td>
<td>13.2</td>
</tr>
<tr class="even">
<td>2023M02</td>
<td>12.1</td>
<td>12.1</td>
<td></td>
</tr>
<tr class="odd">
<td>2023M03</td>
<td>12.3</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Note that in the argument of the function
<code><a href="../reference/create_vintages.html">create_vintages()</a></code>, the argument
<code>vintage_selection</code> allows you to limit the range of revision
dates to consider if needed. See ?create_vintages for more details.</p>
<p>Revisions are easily calculated from vintages by choosing the gap to
consider. The function <code><a href="../reference/get_revisions.html">get_revisions()</a></code> will display the
revisions according to each view. It is just an informative function
that does not need to be run prior the revision analysis.</p>
</div>
<div class="section level4">
<h4 id="revision-analysis-reporting">Revision analysis &amp; reporting<a class="anchor" aria-label="anchor" href="#revision-analysis-reporting"></a>
</h4>
<p>The function <code><a href="../reference/revision_analysis.html">revision_analysis()</a></code> is the main function of
the package. It provides some descriptive statistics and performs a
battery of parametric tests which enable the users to detect potential
bias (both mean and regression bias) and sources of inefficiency in
preliminary estimates. We would conclude to inefficiency in the
preliminary estimates when revisions are predictable in some way.
Parametric tests are divided into 5 categories: relevancy (check whether
preliminary estimates are even worth it), bias, efficiency,
orthogonality (correlation at higher lags), and signalVSnoise. This
function is robust. If for some reasons, a test fails to process, it is
just skipped and a warning is sent to users with the possible cause of
failure. The other tests are then performed as usual.</p>
<p>For some of the parametric tests, prior transformation of the vintage
data may be important to avoid misleading results. By default, the
decision to differentiate the vintage data is performed automatically
based on unit root and co-integration tests. More specifically, we focus
on the augmented Dickey-Fuller (ADF) test to test the presence of unit
root and, for cointegration, we proceed to an ADF test on the residuals
of an OLS regression between the two vintages. The results of those
tests are also made available in the output of the function (section
‘varbased’). By contrast, the choice of log-transformation is left to
the discretion of the users based on their knowledge of the series and
the diagnostics of the various tests. By default, no log-transformation
is considered.</p>
<p>As part of the arguments of the <code><a href="../reference/revision_analysis.html">revision_analysis()</a></code>
function, you can choose the view and the gap to consider, restrict the
number of releases under investigation when diagonal view is selected
and/or change the default setting about the prior transformation of the
data (including the possibility to add a prior log-transformation of
your data).</p>
<p>The function <code><a href="../reference/render_report.html">render_report()</a></code> applied on the output of
<code><a href="../reference/revision_analysis.html">revision_analysis()</a></code> will generate an enhanced HTML or PDF
report including both a formatted summary of the results and full
explanations about each test (which are also included in the vignette
below). The formatted summary of the results display the p-value of each
test (except for Theil’s tests where the value of the statistics is
provided) and their interpretation. An appreciation ‘good’, ‘uncertain’,
‘bad’ and ‘severe’ is indeed associated to each test following the usual
statistical interpretation of p-values and the orientation of the tests.
This allows a quick visual interpretation of the results and is similar
to what is done in the GUI of JDemetra+.</p>
<p>In addition to the function <code><a href="../reference/revision_analysis.html">revision_analysis()</a></code>, the
user can also perform tests individually if they want to. To list all
functions available in the package (and therefore finding the different
functions corresponding to the individual tests), you can do</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="st">"package:rjd3revisions"</span><span class="op">)</span></span></code></pre></div>
<p>Use help(‘name of the functions’) or ?‘name of the functions’ for
more information and examples over the various functions.</p>
</div>
</div>
<div class="section level3">
<h3 id="output">Output<a class="anchor" aria-label="anchor" href="#output"></a>
</h3>
<p>The detailed results of each test are part of the output returned by
the function <code><a href="../reference/revision_analysis.html">revision_analysis()</a></code>. Alternatively, the
functions associated with the individual test will give you the same
result specific to this test.</p>
<p>In addition to the visual report that you can get by applying the
function <code><a href="../reference/render_report.html">render_report()</a></code> on the output of the function
<code><a href="../reference/revision_analysis.html">revision_analysis()</a></code>, you can also apply the usual
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> and <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> functions to this
output. The function <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, in particular, will print
only the formatted table of the report with the main results. The
<code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> will provide the same unformatted information
together with some extra ones. Finally the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function
applied to the output of the function <code><a href="../reference/get_revisions.html">get_revisions()</a></code> will
provide you with a visual of the revisions over time.</p>
</div>
<div class="section level3">
<h3 id="user-defined-thresholds">User-defined thresholds<a class="anchor" aria-label="anchor" href="#user-defined-thresholds"></a>
</h3>
<p>It is possible for the user to change the default values of the
thresholds considered in the function <code><a href="../reference/revision_analysis.html">revision_analysis()</a></code>
(and displayed by the functions <code><a href="../reference/summary.rjd3rev_rslts.html">summary.rjd3rev_rslts()</a></code> and
<code><a href="../reference/render_report.html">render_report()</a></code>) that are used to make quality assessment
on the results of the tests. Changing the default values of the
thresholds can be done for each test through the global options. The
latter can be set via <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> and queried via
<code><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption()</a></code>. Note that the default thresholds considered
for residuals diagnostics can also be changed if necessary.</p>
<p>Here’s how to customize a threshold. Thresholds values should be
defined as an ascending numeric vector. We start from -Inf and each
element of the vector should be understood as the upper or lower bound
(depending on the null hypothesis) of the corresponding assessment.
Furthermore, the assessment “good” is always the one not to be
mentioned. Depending on the test, it will be interpreted adequately.
Finally, only the assessments ‘good’ (implicitly), ‘uncertain’, ‘bad’
and ‘severe’ are allowed but they don’t all have to be used if it is not
necessary. Here is an example of how to modify threshold values for some
of the tests. The list with the name of all test thresholds that can be
modified can be found in the list below.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>    augmented_t_threshold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>severe <span class="op">=</span> <span class="fl">0.005</span>, bad <span class="op">=</span> <span class="fl">0.05</span>, uncertain <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>    t_threshold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>bad <span class="op">=</span> <span class="fl">0.05</span>, uncertain <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>    theil_u2_threshold <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>uncertain <span class="op">=</span> <span class="fl">.5</span>, bad <span class="op">=</span> <span class="fl">.75</span>, severe <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">rslt2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/revision_analysis.html">revision_analysis</a></span><span class="op">(</span><span class="va">vintages</span>, gap <span class="op">=</span> <span class="fl">1</span>, view <span class="op">=</span> <span class="st">"diagonal"</span>, n.releases <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">rslt2</span><span class="op">)</span></span></code></pre></div>
<p>For the augmented t-test, by defining the threshold values like this,
it means that the results will be assessed as severe if the p-value &lt;
0.005, as bad if the p-value is between 0.005 and 0.05, as uncertain if
between 0.05 and 0.1 and as good if it is higher than 0.1. As far as the
Theil U2 test is concerned, given the definition of the test (see
section <a href="#theil">Theil’s Inequality Coefficient</a>), the
results will be assessed as good if the value of the test is lower than
0.5, uncertain, between 0.5 and 0.75, bad between 0.75 and 1 and severe
if it is higher than 1.</p>
<p>Here are all the possible options the user can modified, together
with their description and their default value.</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th align="left">Name</th>
<th align="left">Description</th>
<th align="left">Default value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">theil_u1_threshold</td>
<td align="left">Threshold values for Theil’s Inequality Coefficient
U1</td>
<td align="left">c(uncertain = .8, bad = .9, severe = .99)</td>
</tr>
<tr class="even">
<td align="left">theil_u2_threshold</td>
<td align="left">Threshold values for Theil’s Inequality Coefficient
U2</td>
<td align="left">c(uncertain = .8, bad = .9, severe = 1)</td>
</tr>
<tr class="odd">
<td align="left">t_threshold</td>
<td align="left">Threshold values for T-test</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="even">
<td align="left">augmented_t_threshold</td>
<td align="left">Threshold values for Augmented T-test</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="odd">
<td align="left">slope_and_drift_threshold</td>
<td align="left">Threshold values for Slope and drift test</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="even">
<td align="left">eff1_threshold</td>
<td align="left">Threshold values for Efficiency test (test 1)</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="odd">
<td align="left">eff2_threshold</td>
<td align="left">Threshold values for Efficiency test (test 2)</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="even">
<td align="left">orth1_threshold</td>
<td align="left">Threshold values for Orthogonality test (test 1)</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="odd">
<td align="left">orth2_threshold</td>
<td align="left">Threshold values for Orthogonality test (test 2)</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="even">
<td align="left">autocorr_threshold</td>
<td align="left">Threshold values for Orthogonality test (test 3 on
autocorrelation)</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="odd">
<td align="left">seas_threshold</td>
<td align="left">Threshold values for Orthogonality test (test 4 on
seasonality)</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="even">
<td align="left">signal_noise1_threshold</td>
<td align="left">Threshold values for Signal vs Noise test (test 1)</td>
<td align="left">c(severe = 0.001, bad = 0.01, uncertain = 0.05)</td>
</tr>
<tr class="odd">
<td align="left">signal_noise2_threshold</td>
<td align="left">Threshold values for Signal vs Noise test (test 2)</td>
<td align="left">c(uncertain = 0.05)</td>
</tr>
<tr class="even">
<td align="left">jb_res_threshold</td>
<td align="left">Normality test: Jarque-Bera</td>
<td align="left">c(bad = 0.01, uncertain = 0.1)</td>
</tr>
<tr class="odd">
<td align="left">bp_res_threshold</td>
<td align="left">Homoskedasticity test: Breusch-Pagan</td>
<td align="left">c(bad = 0.01, uncertain = 0.1)</td>
</tr>
<tr class="even">
<td align="left">white_res_threshold</td>
<td align="left">Homoskedasticity test: Whitet</td>
<td align="left">c(bad = 0.01, uncertain = 0.1)</td>
</tr>
<tr class="odd">
<td align="left">arch_res_threshold</td>
<td align="left">Homoskedasticity test: ARCH</td>
<td align="left">c(bad = 0.01, uncertain = 0.1)</td>
</tr>
</tbody>
</table>
<p>Finally, the functions <code><a href="../reference/set_thresholds_to_default.html">set_thresholds_to_default()</a></code> and
<code><a href="../reference/set_all_thresholds_to_default.html">set_all_thresholds_to_default()</a></code> can be used to reset test
thresholds to their default values.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/set_thresholds_to_default.html">set_thresholds_to_default</a></span><span class="op">(</span><span class="st">"t_threshold"</span><span class="op">)</span></span>
<span><span class="co"># or to reset all threshold options</span></span>
<span><span class="fu"><a href="../reference/set_all_thresholds_to_default.html">set_all_thresholds_to_default</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rslt3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/revision_analysis.html">revision_analysis</a></span><span class="op">(</span><span class="va">vintages</span>, gap <span class="op">=</span> <span class="fl">1</span>, view <span class="op">=</span> <span class="st">"diagonal"</span>, n.releases <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">rslt3</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="tests-description-and-interpretation">Tests description and interpretation<a class="anchor" aria-label="anchor" href="#tests-description-and-interpretation"></a>
</h2>
<p>Recall that the purpose of the parametric tests described below
are:</p>
<ul>
<li>To check the <em>relevancy</em> of preliminary estimates</li>
<li>To detect potential mean and regression <em>bias</em><br>
</li>
<li>To measure <em>efficiency</em> of preliminary estimates (i.e.,
whether revisions are somehow predictable)</li>
</ul>
<div class="section level3">
<h3 id="relevancy">Relevancy<a class="anchor" aria-label="anchor" href="#relevancy"></a>
</h3>
<div class="section level4">
<h4 id="theil">Theil’s Inequality Coefficient<a class="anchor" aria-label="anchor" href="#theil"></a>
</h4>
<p>In the context of revision analysis, Theil’s inequality coefficient,
also known as Theil’s U, provides a measure of the accuracy of a set of
preliminary estimates (P) compared to a latter version (L). There exists
a few definitions of Theil’s statistics leading to different
interpretation of the results. In this package, two definitions are
considered. The first statistic, U1, is given by <span class="math display">$$
U_1=\frac{\sqrt{\frac{1}{n}\sum^n_{t=1}(L_t-P_t)^2}}{\sqrt{\frac{1}{n}\sum^n_{t=1}L_t^2}+\sqrt{\frac{1}{n}\sum^n_{t=1}P_t^2}}
\\ \\
$$</span> U1 is bounded between 0 and 1. The closer the value of U1 is
to zero, the better the forecast method. However, this classic
definition of Theil’s statistic suffers from a number of limitations. In
particular, a set of near zero preliminary estimates would always give a
value of the U1 statistic close to 1 even though they are close to the
latter estimates.</p>
<p>The second statistic, U2, is given by
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mn>2</mn></msub><mo>=</mo><mfrac><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><msub><mi>P</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>L</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><msub><mi>L</mi><mi>t</mi></msub></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt><msqrt><mrow><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><mrow><mo stretchy="true" form="prefix">(</mo><mfrac><mrow><msub><mi>L</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>L</mi><mi>t</mi></msub></mrow><msub><mi>L</mi><mi>t</mi></msub></mfrac><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">
U_2=\frac{\sqrt{\sum^n_{t=1}\left(\frac{P_{t + 1}-L_{t + 1}}{L_t}\right)^2}}{\sqrt{\sum^n_{t=1}\left(\frac{L_{t + 1}-L_t}{L_t}\right)^2}}
</annotation></semantics></math> The interpretation of U2 differs from
U1. The value of 1 is no longer the upper bound of the statistic but a
threshold above (below) which the preliminary estimates is less (more)
accurate than the naïve random walk forecast repeating the last observed
value (considering
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>=</mo><msub><mi>L</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">P_{t + 1}=L_t</annotation></semantics></math>).
Whenever it can be calculated
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>t</mi></msub><mo>≠</mo><mn>0</mn><mspace width="0.222em"></mspace><mo>∀</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">L_t \neq 0 ~\forall t</annotation></semantics></math>),
the U2 statistic is the preferred option to evaluate the relevancy of
the preliminary estimates.</p>
</div>
</div>
<div class="section level3">
<h3 id="bias">Bias<a class="anchor" aria-label="anchor" href="#bias"></a>
</h3>
<p>A bias in preliminary estimates may indicate inaccurate initial data
or inefficient compilation methods. However, we must be cautious if a
bias is shown to be statistically significant and we intend to correct
it. Biases may change overtime, so we might correct for errors that no
longer apply. Over a long interval, changes in methodology or
definitions may also occur so that there are valid reasons to expect a
non-zero mean revision.</p>
<div class="section level4">
<h4 id="t-test-and-augmented-t-test">T-test and Augmented T-test<a class="anchor" aria-label="anchor" href="#t-test-and-augmented-t-test"></a>
</h4>
<p>To test whether the mean revision is statistically different from
zero for a sample of n, we employ a conventional t-statistic
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mfrac><mover><mi>R</mi><mo accent="true">¯</mo></mover><msqrt><mrow><msup><mi>s</mi><mn>2</mn></msup><mi>/</mi><mi>n</mi></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">
t=\frac{\overline{R}}{\sqrt{s^2/n}}
</annotation></semantics></math> If the null hypothesis that the bias is
equal to zero is rejected, it may give an insight of whether a bias
exists in the earlier estimates.</p>
<p>The t-test is equivalent to fitting a linear regression of the
revisions on only a constant (i.e. the mean). Assumptions such as the
gaussianity of the revisions are implied. One can release the assumption
of no autocorrelation by adding it into the model. Hence we have
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>t</mi></msub><mo>=</mo><mi>μ</mi><mo>+</mo><msub><mi>ε</mi><mi>t</mi></msub><mo>,</mo><mspace width="0.222em"></mspace><mspace width="0.222em"></mspace><mi>t</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">
R_t=\mu+\varepsilon_t, ~~t=1,...,n
</annotation></semantics></math> And the errors are thought to be
serially correlated according to an AR(1) model, that is
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ε</mi><mi>t</mi></msub><mo>=</mo><mi>γ</mi><msub><mi>ε</mi><mi>t</mi></msub><mo>+</mo><msub><mi>u</mi><mi>t</mi></msub><mo>,</mo><mspace width="0.222em"></mspace><mspace width="0.222em"></mspace><mi>w</mi><mi>i</mi><mi>t</mi><mi>h</mi><mspace width="0.222em"></mspace><mrow><mo stretchy="true" form="prefix">|</mo><mi>γ</mi><mo stretchy="true" form="postfix">|</mo></mrow><mo>&lt;</mo><mn>1</mn><mspace width="0.222em"></mspace><mi>a</mi><mi>n</mi><mi>d</mi><mspace width="0.222em"></mspace><msub><mi>u</mi><mi>t</mi></msub><mo>∼</mo><mrow><mi>i</mi><mi>i</mi><mi>d</mi></mrow></mrow><annotation encoding="application/x-tex">
\varepsilon_t=\gamma\varepsilon_t+u_t, ~~with~ |\gamma|&lt;1 ~and ~u_t \sim{iid} 
</annotation></semantics></math> The auto-correlation in the error terms
reduces the number of independent observations (and the degrees of
freedom) by a factor of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mfrac><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mi>γ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mi>γ</mi><mo stretchy="true" form="postfix">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">n\frac{(1-\gamma)}{(1+\gamma)}</annotation></semantics></math>
and thus, the variance of the mean should be adjusted upward
accordingly.</p>
<p>Hence, the Augmented t-test is calculated as
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>a</mi><mi>d</mi><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mover><mi>R</mi><mo accent="true">¯</mo></mover><msqrt><mfrac><mrow><msup><mi>s</mi><mn>2</mn></msup><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>+</mo><mover><mi>γ</mi><mo accent="true">̂</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>1</mn><mo>−</mo><mover><mi>γ</mi><mo accent="true">̂</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac></msqrt></mfrac></mrow><annotation encoding="application/x-tex">
t_{adj}=\frac{\overline{R}}{\sqrt{\frac{s^2(1+\hat{\gamma})}{n(1-\hat{\gamma})}}}
</annotation></semantics></math> where
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover><mi>γ</mi><mo accent="true">̂</mo></mover><mo>=</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></munderover><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>R</mi><mi>t</mi></msub><mo>−</mo><mover><mi>R</mi><mo accent="true">¯</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>R</mi><mrow><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><mover><mi>R</mi><mo accent="true">¯</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow></mrow><mrow><munderover><mo>∑</mo><mrow><mi>t</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>R</mi><mi>t</mi></msub><mo>−</mo><mover><mi>R</mi><mo accent="true">¯</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\hat{\gamma}=\frac{\sum^{n-1}_{t=1}(R_t-\overline{R})(R_{t + 1}-\overline{R})}{\sum^n_{t=1}(R_t-\overline{R})^2}
</annotation></semantics></math></p>
</div>
<div class="section level4">
<h4 id="slope-and-drift">Slope and drift<a class="anchor" aria-label="anchor" href="#slope-and-drift"></a>
</h4>
<p>We assume a linear regression model of a latter vintage (L) on a
preliminary vintage (P) and estimate the intercept (drift)
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>0</mn></msub><annotation encoding="application/x-tex">\beta_0</annotation></semantics></math>
and slope coefficient
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>1</mn></msub><annotation encoding="application/x-tex">\beta_1</annotation></semantics></math>
by OLS. The model is</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mi>t</mi></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>P</mi><mi>t</mi></msub><mo>+</mo><msub><mi>ε</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">
L_t=\beta_0+\beta_1P_t+\varepsilon_t
</annotation></semantics></math> While the (augmented) t-test on
revisions only gives information about mean bias, this regression
enables to assess both mean and regression bias. A regression bias would
occur, for example, if preliminary estimates tend to be too low when
latter estimates are relatively high and too high when latter estimates
are relatively low. In this case, this may result in a positive value of
the intercept and a value of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\beta_1&lt;1</annotation></semantics></math>.
To evaluate whether a mean or regression bias is present, we employ a
conventional t-test on the parameters with the null hypothesis
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_0 = 0</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\beta_1 = 1</annotation></semantics></math>.</p>
<p>Recall that OLS regressions always come along with rather strict
assumptions. Users should check the diagnostics and draw the necessary
conclusions from them.</p>
</div>
</div>
<div class="section level3">
<h3 id="efficiency">Efficiency<a class="anchor" aria-label="anchor" href="#efficiency"></a>
</h3>
<p>Efficiency tests evaluate whether preliminary estimates are
“efficient” forecast of the latter estimates. If all information were
used efficiently at the time of the preliminary estimate, revisions
should not be predictable and therefore neither be correlated with
preliminary estimates or display any relationship from one vintage to
another. This section focuses on these two points. Predictability of
revisions is tested even further in the Orthogonality and SignalVSNoise
sections.</p>
<div class="section level4">
<h4 id="regression-of-revisions-on-previous-estimates">Regression of revisions on previous estimates<a class="anchor" aria-label="anchor" href="#regression-of-revisions-on-previous-estimates"></a>
</h4>
<p>We assume a linear regression model of the revisions (R) on a
preliminary vintage (P) and estimate the intercept
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>0</mn></msub><annotation encoding="application/x-tex">\beta_0</annotation></semantics></math>
and slope coefficient
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>1</mn></msub><annotation encoding="application/x-tex">\beta_1</annotation></semantics></math>
by OLS. The model is</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>t</mi></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>P</mi><mi>t</mi></msub><mo>+</mo><msub><mi>ε</mi><mi>t</mi></msub><mo>,</mo><mspace width="0.222em"></mspace><mspace width="0.222em"></mspace><mi>t</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">
R_t=\beta_0+\beta_1P_t+\varepsilon_t, ~~t=1,...,n
</annotation></semantics></math> If revisions are affected by
preliminary estimates, it means that those are not efficient and could
be improved. We employ a conventional t-test on the parameters with the
null hypothesis
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_0 = 0</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_1 = 0</annotation></semantics></math>.
Diagnostics on the residuals should be verified.</p>
</div>
<div class="section level4">
<h4 id="regression-of-revisions-from-latter-vintages-on-revisions-from-the-previous-vintages">Regression of revisions from latter vintages on revisions from the
previous vintages<a class="anchor" aria-label="anchor" href="#regression-of-revisions-from-latter-vintages-on-revisions-from-the-previous-vintages"></a>
</h4>
<p>We assume a linear regression model of the revisions between latter
vintages
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>v</mi></msub><annotation encoding="application/x-tex">R_v</annotation></semantics></math>)
on the revisions between the previous vintages
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mrow><mi>v</mi><mo>−</mo><mn>1</mn></mrow></msub><annotation encoding="application/x-tex">R_{v-1}</annotation></semantics></math>)
and estimate the intercept
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>0</mn></msub><annotation encoding="application/x-tex">\beta_0</annotation></semantics></math>
and slope coefficient
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>1</mn></msub><annotation encoding="application/x-tex">\beta_1</annotation></semantics></math>
by OLS. The model is</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>v</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>R</mi><mrow><mi>v</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>ε</mi><mi>t</mi></msub><mo>,</mo><mspace width="0.222em"></mspace><mspace width="0.222em"></mspace><mi>t</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">
R_{v,t}=\beta_0+\beta_1R_{v-1,t}+\varepsilon_t, ~~t=1,...,n
</annotation></semantics></math> If latter revisions are predictable
from previous revisions, it means that preliminary estimates are not
efficient and could be improved. We employ a conventional t-test on the
parameters with the null hypothesis
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_0 = 0</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_1 = 0</annotation></semantics></math>.
Diagnostics on the residuals should be verified.</p>
</div>
</div>
<div class="section level3">
<h3 id="orthogonality">Orthogonality<a class="anchor" aria-label="anchor" href="#orthogonality"></a>
</h3>
<p>Orthogonality tests evaluate whether revisions from older vintages
affect the latter revisions. This section also includes autocorrelation
and seasonality tests for a given set of revisions. If there is
significant correlation in the revisions for subsequent periods, this
may witness some degree of predictability in the revision process.</p>
<div class="section level4">
<h4 id="regression-of-latter-revisions-rv-on-previous-revisions-rv_1-rv_2rv_p">Regression of latter revisions (Rv) on previous revisions (Rv_1,
Rv_2,…Rv_p)<a class="anchor" aria-label="anchor" href="#regression-of-latter-revisions-rv-on-previous-revisions-rv_1-rv_2rv_p"></a>
</h4>
<p>We assume a linear regression model of the revisions from latter
vintages
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>v</mi></msub><annotation encoding="application/x-tex">R_v</annotation></semantics></math>)
on the revisions from p previous vintages
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>v</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>R</mi><mrow><mi>v</mi><mo>−</mo><mi>p</mi></mrow></msub></mrow><annotation encoding="application/x-tex">R_{v-1}, ..., R_{v-p}</annotation></semantics></math>)
and estimate the intercept
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>0</mn></msub><annotation encoding="application/x-tex">\beta_0</annotation></semantics></math>
and slope coefficients of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><msub><mi>β</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">\beta_1, ..., \beta_p</annotation></semantics></math>
by OLS. The model is</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>v</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></munderover><msub><mi>β</mi><mi>i</mi></msub><msub><mi>R</mi><mrow><mi>v</mi><mo>−</mo><mi>i</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>ε</mi><mi>t</mi></msub><mo>,</mo><mspace width="0.222em"></mspace><mspace width="0.222em"></mspace><mi>t</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">
R_{v,t}=\beta_0+\sum^p_{i=1}\beta_{i}R_{v-i,t}+\varepsilon_t, ~~t=1,...,n
</annotation></semantics></math> If latter revisions are predictable
from previous revisions, it means that preliminary estimates are not
efficient and could be improved. We employ a conventional t-test on the
intercept parameter with the null hypothesis
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_0 = 0</annotation></semantics></math>
and a F-test to check the null hypothesis that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>=</mo><msub><mi>β</mi><mn>2</mn></msub><mo>=</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>=</mo><msub><mi>β</mi><mi>p</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_1 = \beta_2=...=\beta_p=0</annotation></semantics></math>.
Diagnostics on the residuals should be verified</p>
</div>
<div class="section level4">
<h4 id="regression-of-latter-revisions-rv-on-revisions-from-a-specific-vintage-rv_k">Regression of latter revisions (Rv) on revisions from a specific
vintage (Rv_k)<a class="anchor" aria-label="anchor" href="#regression-of-latter-revisions-rv-on-revisions-from-a-specific-vintage-rv_k"></a>
</h4>
<p>We assume a linear regression model of the revisions from latter
vintages
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mi>v</mi></msub><annotation encoding="application/x-tex">R_v</annotation></semantics></math>)
on the revisions from a specific vintage
(<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mrow><mi>v</mi><mo>−</mo><mi>k</mi></mrow></msub><annotation encoding="application/x-tex">R_{v-k}</annotation></semantics></math>)
and estimate the intercept
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>0</mn></msub><annotation encoding="application/x-tex">\beta_0</annotation></semantics></math>
and slope coefficient
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>1</mn></msub><annotation encoding="application/x-tex">\beta_1</annotation></semantics></math>
by OLS. The model is</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>v</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>R</mi><mrow><mi>v</mi><mo>−</mo><mi>k</mi><mo>,</mo><mi>t</mi></mrow></msub><mo>+</mo><msub><mi>ε</mi><mi>t</mi></msub><mo>,</mo><mspace width="0.222em"></mspace><mspace width="0.222em"></mspace><mi>t</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">
R_{v,t}=\beta_0+\beta_1R_{v-k,t}+\varepsilon_t, ~~t=1,...,n
</annotation></semantics></math> If latter revisions are predictable
from previous revisions, it means that preliminary estimates are not
efficient and could be improved. We employ a conventional t-test on the
parameters with the null hypothesis
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_0 = 0</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_1 = 0</annotation></semantics></math>.
Diagnostics on the residuals should be verified.</p>
</div>
<div class="section level4">
<h4 id="test-of-autocorrelations-in-revisions">Test of autocorrelations in revisions<a class="anchor" aria-label="anchor" href="#test-of-autocorrelations-in-revisions"></a>
</h4>
<p>To test whether autocorrelation is present in revisions, we employ
the Ljung-Box test. The Ljung-Box test considers together a group of
autocorrelation coefficients up to a certain lag k and is therefore
sometimes referred to as a portmanteau test. For the purpose of revision
analysis, as we expect a relatively small number of observations, we
decided to restrict the number of lags considered to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">k=2</annotation></semantics></math>.
Hence, the users can also make the distinction with autocorrelation at
seasonal lags (see seasonality tests below).</p>
<p>The null hypothesis is no autocorrelation. The test statistic is
given by
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo>=</mo><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>n</mi><mo>+</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mfrac><msubsup><mover><mi>ρ</mi><mo accent="true">̂</mo></mover><mi>i</mi><mn>2</mn></msubsup><mrow><mi>n</mi><mo>−</mo><mi>i</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">
Q=n(n+2)\sum^k_{i=1}\frac{\hat{\rho}_i^2}{n-i}
</annotation></semantics></math> where n is the sample size,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msubsup><mover><mi>ρ</mi><mo accent="true">̂</mo></mover><mi>i</mi><mn>2</mn></msubsup><annotation encoding="application/x-tex">\hat{\rho}_i^2</annotation></semantics></math>
is the sample autocorrelation at lag in and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">k=2</annotation></semantics></math>
is the number of lags being tested. Under the null hypothesis,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo>∼</mo><msup><mi>χ</mi><mn>2</mn></msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>k</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">Q\sim\chi^2(k)</annotation></semantics></math>.</p>
<p>If Q is statistically different from zero, the revision process may
be locally biased in the sense that latter revisions are related to the
previous ones.</p>
</div>
<div class="section level4">
<h4 id="test-of-seasonality-in-revisions">Test of seasonality in revisions<a class="anchor" aria-label="anchor" href="#test-of-seasonality-in-revisions"></a>
</h4>
<p>To test whether seasonality is present in revisions, we employ two
tests: the parametric QS test and the non-parametric Friedman test. Note
that seasonality tests are always performed on first-differentiated
series to avoid misleading results.</p>
<p>The QS test is a variant of the Ljung-Box test computed on seasonal
lags, where we only consider positive auto-correlations
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mi>S</mi><mo>=</mo><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>n</mi><mo>+</mo><mn>2</mn><mo stretchy="true" form="postfix">)</mo></mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mfrac><msup><mrow><mo stretchy="true" form="prefix">[</mo><mi>m</mi><mi>a</mi><mi>x</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><msub><mover><mi>γ</mi><mo accent="true">̂</mo></mover><mrow><mi>i</mi><mi>.</mi><mi>l</mi></mrow></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">]</mo></mrow><mn>2</mn></msup><mrow><mi>n</mi><mo>−</mo><mi>i</mi><mi>.</mi><mi>l</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">
QS=n(n+2)\sum^k_{i=1}\frac{\left[max(0,\hat{\gamma}_{i.l})\right]^2}{n-i.l}
</annotation></semantics></math> where
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">k=2</annotation></semantics></math>,
so only the first and second seasonal lags are considered. Thus, the
test would checks the correlation between the actual observation and the
observations lagged by one and two years. Note that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">l=12</annotation></semantics></math>
when dealing with monthly observations, so we consider the
auto-covariances
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mover><mi>γ</mi><mo accent="true">̂</mo></mover><mn>12</mn></msub><annotation encoding="application/x-tex">\hat{\gamma}_{12}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mover><mi>γ</mi><mo accent="true">̂</mo></mover><mn>24</mn></msub><annotation encoding="application/x-tex">\hat{\gamma}_{24}</annotation></semantics></math>
alone. In turn
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">k=4</annotation></semantics></math>
in the case of quarterly data.</p>
<p>Under the null hypothesis of no autocorrelation at seasonal lags,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mi>S</mi><mo>∼</mo><msubsup><mi>χ</mi><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mi>i</mi><mi>f</mi><mi>i</mi><mi>e</mi><mi>d</mi></mrow><mn>2</mn></msubsup><mrow><mo stretchy="true" form="prefix">(</mo><mi>k</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">QS\sim \chi_{modified}^2(k)</annotation></semantics></math>.
The elimination of negative correlations calls indeed for a modified
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msup><mi>χ</mi><mn>2</mn></msup><annotation encoding="application/x-tex">\chi^2</annotation></semantics></math>
distribution. This was done using simulation techniques.</p>
<p>The Friedman test requires no distributional assumptions. It uses the
rankings of the observations. It is constructed as follows. Consider
first the matrix of data
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>n</mi><mi>x</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{x_{ij}\}_{nxk}</annotation></semantics></math>
with n rows (the blocks, i.e. the number of years in the sample), k
columns (the treatments, i.e., either 12 months or 4 quarters, depending
on the frequency of the data). The data matrix needs to be replaced by a
new matrix
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false" form="prefix">{</mo><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msub><mo stretchy="false" form="postfix">}</mo><mrow><mi>n</mi><mi>x</mi><mi>k</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\{r_{ij}\}_{nxk}</annotation></semantics></math>,
where the entry
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">r_{ij}</annotation></semantics></math>
is the rank of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">x_{ij}</annotation></semantics></math>
within the block i. The test statistic is given by</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo>=</mo><mfrac><mrow><mi>n</mi><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mover><mi>r</mi><mo accent="true">̃</mo></mover><mrow><mi>.</mi><mi>j</mi></mrow></msub><mo>−</mo><mover><mi>r</mi><mo accent="true">̃</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow><mrow><mfrac><mn>1</mn><mrow><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><msup><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>r</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>−</mo><mover><mi>r</mi><mo accent="true">̃</mo></mover><mo stretchy="true" form="postfix">)</mo></mrow><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">
Q=\frac{n\sum^k_{j=1}(\tilde{r}_{.j}-\tilde{r})^2}{\frac{1}{n(k-1)}\sum^n_{i=1}\sum^k_{j=1}(r_{ij}-\tilde{r})^2}
</annotation></semantics></math> The denominator represents the variance
of the average ranking across treatments j relative to the total. Under
the null hypothesis of no (stable) seasonality,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo>∼</mo><msup><mi>χ</mi><mn>2</mn></msup><mrow><mo stretchy="true" form="prefix">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">Q\sim \chi^2(k-1)</annotation></semantics></math>.</p>
<p>As for non-seasonal autocorrelation tests at lower lags, if QS and Q
are significantly different from zero, the revision process may be
locally biased in the sense that latter revisions are related to the
previous ones.</p>
</div>
</div>
<div class="section level3">
<h3 id="signal-vs-noise">Signal vs Noise<a class="anchor" aria-label="anchor" href="#signal-vs-noise"></a>
</h3>
<p>Regression techniques can also be used to determine whether revisions
should be classified as ‘news’ or ‘noise’. Those are also closely
related to the notion of efficiency developed earlier.</p>
<p>If the correlation between revisions and preliminary estimates is
significantly different from zero, this implies that we did not fully
utilize all the information available at the time of the preliminary
estimates. In that sense, we would conclude that the preliminary
estimates could have been better and that revisions embody noise. The
model to test whether revisions are “noise” is similar to the first
model established earlier to test efficiency:
<math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>t</mi></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>P</mi><mi>t</mi></msub><mo>+</mo><msub><mi>ε</mi><mi>t</mi></msub><mo>,</mo><mspace width="0.222em"></mspace><mspace width="0.222em"></mspace><mi>t</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">
R_t=\beta_0+\beta_1P_t+\varepsilon_t, ~~t=1,...,n
</annotation></semantics></math> We employ a F-test on the parameters to
test jointly that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_0 = 0</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_1 = 0</annotation></semantics></math>.
If the null hypothesis is rejected, this suggest that revisions are
likely to include noise. Diagnostics on the residuals should be
verified.</p>
<p>On the other hand, revisions should be correlated to the latter
estimates. If this is the case, it means that information which becomes
available between the compilation of the preliminary and the latter
estimates are captured in the estimation process of the latter
estimates. In that sense, the revision process is warranted and we
conclude that revisions embody news. The model to test whether revisions
are “news” is</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mi>t</mi></msub><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><msub><mi>L</mi><mi>t</mi></msub><mo>+</mo><msub><mi>ε</mi><mi>t</mi></msub><mo>,</mo><mspace width="0.222em"></mspace><mspace width="0.222em"></mspace><mi>t</mi><mo>=</mo><mn>1</mn><mo>,</mo><mi>.</mi><mi>.</mi><mi>.</mi><mo>,</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">
R_t=\beta_0+\beta_1L_t+\varepsilon_t, ~~t=1,...,n
</annotation></semantics></math> We employ a F-test on the parameters to
test jointly that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_0 = 0</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\beta_1 = 0</annotation></semantics></math>.
If the null hypothesis is rejected, this is a good thing as it suggests
that revisions incorporate news. Note that even if we reject the null
hypothesis and conclude that revisions incorporate news, it does not
necessarily mean that revisions are efficient as those might still be
predicted by other variables not included in the estimation process.</p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li>Ares, David. 2013. “Tool for Revision Analysis : Technical Report.”
DI/06769. DG ESTAT.</li>
<li>Cook, Steve. 2019. “Forecast Evaluation Using Theil’s Inequality
Coefficients.” Swansea University; <a href="https://www.economicsnetwork.ac.uk/showcase/cook_theil" class="external-link uri">https://www.economicsnetwork.ac.uk/showcase/cook_theil</a>.</li>
<li>Fixler, Dennis. 2007. “How to Interpret Whether Revisions to
Economic Variables Reflect ‘News’ or ‘Noise’.” OECD.</li>
<li>McKenzie, Richard, and Michela Gamba. 2007. “Interpreting the
Results of Revision Analyses: Recommended Summary Statistics.”
OECD.</li>
<li>Pitton, Laurent, and David Ares. 2013a. “Tool for Revision Analysis
: Regression Based Parametric Analysis.” DI/06769. DG ESTAT.</li>
<li>Pitton, Laurent, and David Ares. 2013b. “Tool for Revision Analysis
: VAR Based Models and Final Equation.” DI/06769. DG ESTAT.</li>
<li>Smyk, Anna, Tanguy Barthelemy, Karsten Webel and al. 2024.
“JDemetra+ Documentation.” INSEE; <a href="https://jdemetra-new-documentation.netlify.app/" class="external-link uri">https://jdemetra-new-documentation.netlify.app/</a>.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Corentin Lemasson, Tanguy Barthelemy.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
